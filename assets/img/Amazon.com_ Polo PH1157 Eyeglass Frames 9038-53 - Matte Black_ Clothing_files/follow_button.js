var amznFollow=amznFollow||{};amznFollow.utils=function(){function e(t){var o=this;return this.parseUri=function(t){for(var n=e.parsingOptions,r=n.parser[n.strictMode?"strict":"loose"].exec(t),a=14;a--;)o[n.key[a]]=r[a]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(e,t,r){t&&(o[n.q.name][t]=r)}),o},this.toString=function(){var t="";return this.protocol?t+=this.protocol+"://":this.authority&&(t+="//"),t+this.authority+this.path+e.paramsToString(this.queryParams)+(this.anchor?"#"+this.anchor:"")},this.parseUri(t),this}var t=window.location.protocol,o=t+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),n=o+"/follow/",r=o+"/ap/signin",a=4,i="application/x-www-form-urlencoded",l="application/json",s=400,u=/^(?:(?:(?:(\w\w)-)?pre-prod)|(?:.+))\.amazon.(?:(\w\w)|(com)|(?:co\.(?:(\w\w))))?$/,c={au:"A39IBJ37TRP1C6",br:"A2Q3Y263D00KWC",ca:"A2EUQ1WTGCTBG2",cn:"AAHKV2X7AFYLW",de:"A1PA6795UKMFR9",es:"A1RKKUPIHCS9HS",fr:"A13V1IB3VIYZZH","in":"A21TJRUUN4KGV",it:"APJ6JRA9NG5V4",jp:"A1VC38T7YXB528",mx:"A1AM78C64UM0Y8",nl:"A1805IZSGTT6HS",ru:"AD2EMQ3L3PG8S",uk:"A1F83G8C2ARO7P",com:"ATVPDKIKX0DER"},f={A39IBJ37TRP1C6:"auflex",A2Q3Y263D00KWC:"brflex",A2EUQ1WTGCTBG2:"caflex",AAHKV2X7AFYLW:"cnflex",A1PA6795UKMFR9:"deflex",A1RKKUPIHCS9HS:"esflex",A13V1IB3VIYZZH:"frflex",A21TJRUUN4KGV:"inflex",APJ6JRA9NG5V4:"itflex",A1VC38T7YXB528:"jpflex",A1AM78C64UM0Y8:"mxflex",A1805IZSGTT6HS:"nlflex",AD2EMQ3L3PG8S:"ruflex",A1F83G8C2ARO7P:"gbflex",ATVPDKIKX0DER:"usflex"},d="ATVPDKIKX0DER";return e.parsingOptions={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryParams",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.parseUri=function(t){return new e(t)},e.paramsToString=function(e){var t=[];if(!e)return"";for(var o in e){var n=e[o];amznFollow.utils.isArray(n)?amznFollow.utils.forEach(n,function(e){t.push(o+"[]="+e)}):t.push(o+(n?"="+e[o]:""))}return t.length>0?"?"+t.join("&"):""},{AMAZON_URL:o,FOLLOW_SERVICE_URL:n,CONTENT_TYPE_URL_ENCODED:i,CONTENT_TYPE_JSON:l,DEFAULT_FADE_DURATION:s,ajax:function(e,o){o=o||{};var n=this,r=(o.requestType||"GET").toUpperCase(),s=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),u=new Date,c=function(e){var t;if(e){var r="json"===o.dataType?JSON.parse(s.responseText):s.responseText;n.executeFunction(o.successCallback,window,r,s)}else n.executeFunction(o.failureCallback,window,s),403!==s.status&&(t={status:s.status,responseText:s.responseText,readyState:s.readyState,userAgent:window.navigator.userAgent,requestId:s.getResponseHeader("X-Request-Id")});o.logger&&o.logger.logDuration("request",new Date-u,t),n.executeFunction(o.completeCallback,window,s)};if(!o.cors||"withCredentials"in s?(s.open(r,e,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.onreadystatechange=function(){s.readyState===a&&c(200===s.status)}):o.cors&&"undefined"!=typeof XDomainRequest&&(e=e.replace(/^https?:\/\//,t+"//"),s=new XDomainRequest,s.open(r,e),s.onload=function(){c(!0)},s.onerror=function(){c(!1)},s.onprogress=function(){}),o.data){var f=o.contentType||i,d=o.data;f===i?d=this.formEncodeData(d):f===l&&(d=JSON.stringify(d)),s.setRequestHeader("Content-type",f),s.send(d)}else o.contentType&&s.setRequestHeader("Content-type",o.contentType),s.send()},ajaxGet:function(e,t){var o={requestType:"GET"};t=this.merge({},o,t),this.ajax(e,t)},ajaxGetJson:function(e,t){var o={requestType:"GET",dataType:"json"};t=this.merge({},o,t),this.ajax(e,t)},arrayEquals:function(e,t){if(!(e&&t&&this.isArray(e)&&this.isArray(t)&&e.length===t.length))return!1;for(var o=0;o<e.length;o++){if(e[o]instanceof Array&&t[o]instanceof Array&&!this.arrayEquals(e[o],t[o]))return!1;if(!(e[o]instanceof Array&&t[o]instanceof Array)&&e[o]!==t[o])return!1}return!0},camelize:function(e){return e.replace(/^([A-Z])|[\s-_](\w)/g,function(e,t,o){return o?o.toUpperCase():t.toLowerCase()})},createUrl:function(e,t){var o=this.formEncodeData(t);return o?e+"?"+o:e},dataValue:function(e,t){return this.getAttribute(e,"data-"+t,null)},dataValues:function(e,t,o){for(var n={},o=o||{},r=o.prefix||"",a=void 0!==o.camelize?o.camelize:!0,i=0;i<t.length;i++){var l=t[i],s=a?this.camelize(l):l,u=this.dataValue(e,r+l);u&&(n[s]=u)}return n},detectIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var o=e.indexOf("Trident/");if(o>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0?parseInt(e.substring(r+5,e.indexOf(".",r)),10):!1},documentReady:function(e,t){var o=this,n=Array.prototype.slice.call(arguments,2),r=[e,t].concat(n),a=setInterval(function(){("complete"===document.readyState||"interactive"===document.readyState)&&(clearInterval(a),o.executeFunction.apply(t,r))},20)},executeFunction:function(e,t){if(e){var o="function"==typeof e,n=Array.prototype.slice.call(arguments,2);if(o)return void e.apply(this,n);for(var r=e.split("."),a=r.pop(),i=0;i<r.length;i++)t=t[r[i]];return t[a].apply(t,n)}},fadeIn:function(e,t){var o={finalOpacity:1},t=this.merge({},o,t);this.fadeTo(e,t)},fadeOut:function(e,t){var o={finalOpacity:0},t=this.merge({},o,t);this.fadeTo(e,t)},fadeTo:function(e,t){var o={duration:s,tickLength:50,delay:0,callback:function(){}},t=this.merge({},o,t),n=Number(e.style.opacity||0),r=t.duration/t.tickLength,a=t.finalOpacity>n,i=(t.finalOpacity-n)/r,l=!1;setTimeout(function(){var o=setInterval(function(){n+=i,(n>=t.finalOpacity&&a||n<=t.finalOpacity&&!a)&&(n=t.finalOpacity,l=!0,clearInterval(o),t.callback&&t.callback(),a||0!==t.finalOpacity||(e.style.display="none")),e.style.opacity=n,l||(e.style.display="block")},t.tickLength)},t.delay)},forEach:function(e,t,o){var n,r;if(Array.prototype.forEach)return void e.forEach(t,o);if(!e)throw new TypeError(" array is null or not defined");if(!this.isArray(e))throw new TypeError(" array is not an array");var a=Object(e),i=a.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>2&&(n=o),r=0;i>r;){var l;r in a&&(l=a[r],t.call(n,l,r,a)),r++}},formEncodeData:function(e,t){var o=[];for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t&&(r=t+"["+(this.isArray(e)?"":n)+"]"),o.push("object"==typeof a?this.formEncodeData(a,r):encodeURIComponent(r)+"="+encodeURIComponent(a))}return o.join("&")},formatString:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(!e)throw new Error("An input string must be provided as the first argument");return e.replace(/{(\d+)}/g,function(o,n){var r=parseInt(n);if(r>=t.length)throw new Error("No placeholder "+r+" in text "+e);return t[r]})},getElementsByClassName:function(e,t){t=t||{};var o=t.parentElement||document.body,n=t.tagName||"*";if(document.getElementsByClassName)return o.getElementsByClassName(e);for(var r=o.getElementsByTagName(n),a=new RegExp("(^|\\s)"+e+"(\\s|$)"),i=[],l=0;l<r.length;l++){var s=r[l];a.test(s.className)&&i.push(s)}return i},getElementsByClassNames:function(e,t){t=t||{};for(var o=(t.parentElement||document.body,t.tagName||"*",[]),n=0;n<e.length;n++)for(var r=this.getElementsByClassName(e[n],t),a=0;a<r.length;a++)o[o.length]=r[a];return o},getAttribute:function(e,t,o){return o=o||null,e.hasAttribute?e.hasAttribute(t)?e.getAttribute(t):o:e.getAttribute(t)},hasTouchEvents:function(){return"ontouchstart"in window},inWeblab:function(e,t,o){return e[t]===(o||"T1")},isArray:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},marketplaceFromHostname:function(e){var t=e.match(u);if(!t)return d;for(var o=1;o<t.length;o++)if(void 0!==t[o])return c[t[o]];return d},merge:function(){for(var e=arguments[0]||{},t=arguments.length,o=1;t>o;o++){var n=arguments[o];for(var r in n)e[r]=n[r]}return e},parseUrl:function(){return{}},queryStringValue:function(e){var t=window.location.search,o=new RegExp(e+"=([^#&]+)"),n=o.exec(t);return n&&2===n.length?n[1]:void 0},redirect_to_login:function(e){var t=this.marketplaceFromHostname(window.location.hostname),o=r.replace(/^https?:\/\//,"https://"),n=f[t],a="http://specs.openid.net/auth/2.0/identifier_select",i="http://specs.openid.net/auth/2.0",l="http://specs.openid.net/extensions/pape/1.0",s="{0}?openid.assoc_handle={1}&openid.claimed_id={2}&openid.identity={2}&openid.mode=checkid_setup&openid.ns={3}&openid.ns.pape={4}&openid.pape.max_auth_age=0&openid.return_to={5}",u=this.formatString(s,o,n,encodeURIComponent(a),encodeURIComponent(i),encodeURIComponent(l),encodeURIComponent(e));window.location.href=u},show:function(e){e.style.display="block"},hide:function(e){e.style.display="none"},addClass:function(e,t){e.className=e.className+" "+t},removeClass:function(e,t){for(var o=e.className.split(/\s+/),n=o.length;n--;)o[n]===t&&o.splice(n,1);e.className=o.join(" ")},hasClass:function(e,t){for(var o=e.className.split(/\s+/),n=o.length;n--;)if(o[n]===t)return!0;return!1},Uri:e}}();var amznFollow=amznFollow||{};amznFollow.events=function(){var e=[];return{trigger:function(t,o){for(var n=e[t]||[],r=Array.prototype.slice.call(arguments,2),a=n.length-1;a>=0;a--){for(var i=!0,l=n[a],s=l.events.length-1;s>=0;s--)l.events[s]===o&&l.fireOnce?n[a].events.splice(s,1):l.events[s]!==o&&(i=!1);if(i){var u=[l.callback,window].concat(r);l.fireOnce&&n.splice(a,1),amznFollow.utils.executeFunction.apply(this,u)}}},off:function(t,o){var n=e[t]||[];"string"==typeof o&&(o=[o]);for(var r=n.length-1;r>=0;r--)amznFollow.utils.arrayEquals(n[r].events,o)&&n.splice(r,1)},on:function(t,o,n,r){r&&("string"==typeof o?o=[o]:n||(console.warn("Cannot use fireOnce: false with multiple events"),n=!0),e[t]||(e[t]=[]),e[t].push({events:o,fireOnce:n,callback:r}))}}}();var amznFollow=amznFollow||{};amznFollow.metrics=function(){function e(e){e=e||{};var t,n=this,r=[],a=e.delay||o,i=e.enabled!==!1,l=function(){t&&clearTimeout(t)},s=function(){i&&0!==r.length&&(l(),t=setTimeout(function(){n.sendMetrics()},a))};this.sendMetrics=function(){0!==r.length&&(amznFollow.utils.ajax(amznFollow.utils.FOLLOW_SERVICE_URL+"log-metrics",{requestType:"POST",contentType:amznFollow.utils.CONTENT_TYPE_JSON,data:{metrics:r}}),r=[])},this.logMetric=function(e){r.push(e),s()},this.setEnabled=function(e){i!==e&&(i=e,i?s():l())}}function t(e,t,o,n){var r=".",a="time",i=this,l={},s=function(){for(var e=[],t=0;t<arguments.length;t++)arguments[t]&&e.push(arguments[t]);return e.join(r)};this.namespace=function(){return o?s(o.namespace(),t):t},this.child=function(t,o){n=o||n;var r=s(t,n);return l[r]||(l[r]=new amznFollow.metrics.MetricsLogger(e,t,i,n)),l[r]},this.logDuration=function(t,o,r){if(e){var i={name:s(this.namespace(),t,a),duration:o,ref:n};r&&(i.error=r),e.logMetric(i)}},this.dispatcher=function(){return e}}var o=1500;return{MetricsLogDispatcher:e,MetricsLogger:t,noop:new t}}();var amznFollow=amznFollow||{};amznFollow.ButtonTooltip=function(){"use strict";function e(e,a,i,l){function s(){if(p.element=g.getElementsByClassName(a,{parentElement:e,tag:"div"})[0],p.body=p.findFirstByClass("pr-fb-tooltip-body"),p.eventNamespace=i+"-"+a,c=p.findFirstByClass("pr-fb-tooltip-close"),d=!1,!p.element||!p.body||!c)throw new Error("Error loading tooltip: "+a);f=r[i]||[],r[i]=f,f.push(p);var t=l.tooltipPosition||n,o=t.split(" "),s=o[0],m=o[1];g.addClass(p.element,"pr-fb-tooltip-"+s),g.addClass(p.element,"pr-fb-tooltip-"+m),c.onclick=u}function u(){m.trigger(p.eventNamespace,"closeClicked"),p.hide()}l=l||{};var c,f,d,p=this,m=amznFollow.events,g=amznFollow.utils;this.findFirstByClass=function(e){return g.getElementsByClassName(e,{parentElement:p.element})[0]},this.show=function(e){if(!d){var n=g.merge({},{delay:t,duration:o},e),r=function(){g.fadeIn(p.element,n)},a=!1;g.forEach(f,function(e){var t=e.hide({callback:r});a=a||t}),a||r(),d=!0}},this.hide=function(e){var t=d;if(d){var n=g.merge({},{delay:0,duration:o},e);g.fadeOut(p.element,n),d=!1}return t},s()}var t=500,o=200,n="bottom left",r={};return amznFollow.hideAllTooltips=function(e,t){var o=r[e]||[];amznFollow.utils.forEach(o,function(e){e.hide(t)})},amznFollow.hideAllTooltipsForAllButtons=function(e){for(var t in r)amznFollow.hideAllTooltips(t,e)},amznFollow.removeTooltips=function(e){delete r[e]},e}();var amznFollow=amznFollow||{};!function(){"use strict";function e(e,a,l){function m(){var t=Z.dataValues(e,p);if(Z.merge($,t),"undefined"==typeof $.entityId&&($.entityId=$.asin),"undefined"==typeof $.type&&($.type=$.category),tt=a.child(T,$.ref),!$.entityId||!$.type)throw new Error("A type and an entity id must be provided");return $.followId=Z.formatString(u,$.entityId,$.type),$.marketplaceId=Z.marketplaceFromHostname(window.location.hostname),l&&"false"===$.initialize&&I!==$.followId?void console.log("Not initializing Follow Button: "+$.followId):(Q.on($.followId,["cssLoaded","htmlLoaded","statusLoaded","stringsLoaded"],!0,S),g(),C(),x(),A(),void(ot=!0))}function g(){e.insertAdjacentHTML("afterbegin",n);var t=e.getElementsByTagName("link")[0];if(t)return void Q.trigger($.followId,"cssLoaded");if(document.createStyleSheet){if(document.styleSheets.length<d)return document.createStyleSheet(o),void Q.trigger($.followId,"cssLoaded");for(var r=-1,a=Number.MAX_VALUE,i=0;i<document.styleSheets.length;i++)"STYLE"===document.styleSheets[i].owningElement.tagName.toUpperCase()&&document.styleSheets[i].cssText.length<a&&(r=i,a=document.styleSheets[i].cssText.length);-1!==r&&Z.ajax(o,{requestType:"GET",cors:!0,logger:tt.child("css"),successCallback:function(e){document.styleSheets[r].cssText+=e,Q.trigger($.followId,"cssLoaded")}})}}function C(){Z.ajax(t,{requestType:"GET",cors:!0,successCallback:function(t){Z.addClass(e,"pr-fb-unfollowable"),Z.detectIE()&&Z.addClass(e,"pr-fb-ie"+Z.detectIE()),e.insertAdjacentHTML("afterbegin",t);var o=e.getElementsByTagName("span");if(P=o[c],V=o[f],J=Z.getElementsByClassName("pr-fb-button",{parentElement:e,tagName:"span"})[0],G=Z.getElementsByClassName("pr-fb-text",{parentElement:e,tagName:"span"})[0],amznFollow.removeTooltips($.followId),K=new amznFollow.ButtonTooltip(e,"pr-fb-intro-tooltip",$.followId,$),W=new amznFollow.ButtonTooltip(e,"pr-fb-suggestion-tooltip",$.followId,$),X=new amznFollow.ButtonTooltip(e,"pr-fb-error-tooltip",$.followId,$),Y=new amznFollow.ButtonTooltip(e,"pr-fb-onboard-tooltip",$.followId,$),!(P&&V&&J&&G&&K&&W&&X&&Y))throw new Error("Error loading the follow button");Z.hasTouchEvents()?Z.addClass(e,"pr-fb-mobile"):Z.addClass(P,"pr-fb-no-touch"),Z.addClass(e,"pr-fb-"+$.size),$.color&&Z.addClass(P,"pr-fb-"+$.color),Q.trigger($.followId,"htmlLoaded")},logger:tt.child("html")})}function A(){var e=Z.FOLLOW_SERVICE_URL+$.followId,t={logger:tt.child("button"),successCallback:function(e){Z.merge($,{csrf:e.csrf,isFollowing:e.isFollowing,isFollowable:e.isFollowable,onboardingRequired:e.onboardingRequired,signedIn:e.signedIn,seenTooltip:e.seenTooltip,showTooltip:"show"===$.tooltip||!$.tooltip&&!e.seenTooltip,showSuggestionTooltip:"show"===$.suggestionTooltip&&e.features[$.type]&&e.features[$.type].recommendations,useRecsService:Z.inWeblab(e.weblabs,b.recsTooltip),weblabs:e.weblabs,logMetrics:e.logMetrics,count:e.count}),tt.logDuration("total",new Date-et),Q.trigger($.followId,"statusLoaded")}},o={include:[]};$.ref&&(o.ref=$.ref),$.tooltip||o.include.push("seenTooltip"),$.oncountloaded&&o.include.push("count"),o.ts=Date.now(),e=Z.createUrl(e,o),Z.ajaxGetJson(e,t)}function x(){var e={cors:!0,logger:tt.child("strings"),successCallback:function(e){var t=e[$.language],o={nodeId:_[$.marketplaceId]||_.ATVPDKIKX0DER},n=Z.merge({},F,o);$.suggestionTooltipText=$.suggestionTooltipText?$.suggestionTooltipText:t.follow_button_follow_suggestion,v.follow=t.follow_button_follow,v.following=t.follow_button_following,v.learnMore='<p><a href="'+amznFollow.utils.createUrl(E,n)+'">'+t.follow_button_learn_more+"</a></p>",v.onboard="<p>"+t.follow_button_onboarding+'</p><p class="pr-fb-action"><a href="/gp/profile/onboard?r={0}&ref=fb_pr_onb">'+t.follow_button_complete_my_profile+"</a></p>",v.introTooltip={author:"<p>"+t.follow_button_intro_author+"</p>",customer:"<p>"+t.follow_button_intro_customer+"</p>",interest:"<p>"+t.follow_button_intro_interest+"</p>",brand:"<p>"+t.follow_button_intro_brand+"</p>"},v.error={UNKNOWN:'<p class="pr-fb-error">'+t.follow_button_error_unknown+"</p>",SELF_FOLLOW_FORBIDDEN:"<p>"+t.follow_button_error_self_follow+"</p>",PURCHASE_REQUIRED:"<p>"+t.follow_button_purchase_required+"</p>",PROFILE_REQUIRED:v.onBoard},v.introHeader=t.follow_button_follow_on_amazon,v.suggestionHeader=t.follow_button_followed,v.seeMore=t.follow_button_see_more_recommendations,v.recsTooltip={author:t.follow_button_recs_tooltip_header_author,brand:t.follow_button_recs_tooltip_header_brand},Q.trigger($.followId,"stringsLoaded")}};Z.ajaxGetJson(r,e)}function S(){if($.isFollowable){$.logMetrics&&tt.dispatcher()&&tt.dispatcher().setEnabled(!0),Z.removeClass(e,"pr-fb-unfollowable"),P.onclick=O,H($.isFollowing),Q.on($.followId,"loaded",!0,$.onload),Q.on($.followId,"countLoaded",!0,$.oncountloaded),Q.on($.followId,"addFollow",!1,$.onadd),Q.on($.followId,"addFollowCompleted",!1,$.onaddcompleted),Q.on($.followId,"removeFollow",!1,$.onremove),Q.on($.followId,"removeFollowCompleted",!1,$.onremovecompleted),N();var t=null;I!==$.followId||$.isFollowing?t=function(){$.onboardingRequired?Y.show():$.showTooltip&&K.show()}:D(),Z.fadeIn(P,{duration:$.fadeDuration,callback:t}),Q.trigger($.followId,"loaded",$),Q.trigger($.followId,"countLoaded",$)}}function O(){if(!$.signedIn){var e=Z.formatString("{0}={1}",i,$.followId),t=(window.location.search?window.location.search+"&":"?")+e,o=Z.formatString("https://{0}{1}{2}",window.location.hostname,window.location.pathname,t);return void Z.redirect_to_login(o)}$.isFollowing?B():D()}function N(){var e=K.findFirstByClass("pr-fb-intro-text"),t=K.findFirstByClass("pr-fb-intro-header");e.innerHTML=v.introTooltip[$.type]+v.learnMore,t.innerHTML=v.introHeader,Q.on(K.eventNamespace,"closeClicked",!0,j),z(),$.useRecsService?R():L()}function z(){var e=Y.findFirstByClass("pr-fb-onboard-text"),t=encodeURIComponent(Z.formatString("{0}?{1}={2}&message=onboarding_complete",window.location.pathname,i,$.followId)),o=Z.formatString(v.onboard,t);e.innerHTML=o}function L(){var e=Z.Uri.parseUri($.suggestionTooltipUrl);e.queryParams.ref||(e.queryParams.ref=$.ref||h);var t=document.createElement("a");t.className="pr-fb-tooltip-see-more",t.href=e.toString(),t.innerHTML=$.suggestionTooltipText;var o=W.findFirstByClass("pr-fb-suggestion-text");o.innerHTML="",o.appendChild(t);var n=W.findFirstByClass("pr-fb-suggestion-header");n.innerHTML=v.suggestionHeader}function R(){var e=Z.Uri.parseUri($.suggestionTooltipUrl);e.queryParams.ref||(e.queryParams.ref=$.ref?Z.formatString("{0}_{1}",y,$.ref):y);var t=W.findFirstByClass("pr-fb-suggestion-header");t.innerHTML=v.recsTooltip[$.type];var o=document.createElement("a");o.className="pr-fb-tooltip-see-more",o.href=e.toString(),o.innerHTML=v.seeMore;var n=W.findFirstByClass("pr-fb-suggestion-text");n.innerHTML="",n.appendChild(o)}function U(){var e=Z.formatString(s,$.type,$.entityId),t={logger:tt.child("recommendations"),successCallback:function(e){var t=W.findFirstByClass("pr-fb-suggestion-list");t.innerHTML="",e.results[0]&&e.results[0].recommendations&&Z.forEach(e.results[0].recommendations,function(e){t.appendChild(M(e))}),amznFollow.initialize(),Q.trigger($.followId,"recommendationsLoaded")}};Z.ajaxGetJson(e,t)}function M(e){var t=Z.Uri.parseUri(e.entity_data.url);t.queryParams.ref||(t.queryParams.ref=$.ref?Z.formatString("{0}_{1}",y,$.ref):y);var o=document.createElement("div");o.className="pr-fb-recs-tooltip-row";var n=document.createElement("a");n.className="pr-fb-recs-tooltip-image-link",n.href=t.toString(),o.appendChild(n);var r=document.createElement("div");r.className="pr-fb-recs-tooltip-image",r.style.backgroundImage=Z.formatString("url({0})",e.entity_data.image_url),n.appendChild(r);var a=document.createElement("div");a.className="pr-fb-recs-tooltip-details-column",o.appendChild(a);var i=document.createElement("div");i.className="pr-fb-recs-tooltip-details",a.appendChild(i);var l=document.createElement("a");l.className="pr-fb-recs-tooltip-link",l.href=t.toString(),l.innerHTML=e.entity_data.name,i.appendChild(l);var s=document.createElement("span");s.className="pr-fb-recs-tooltip-popular-items",i.appendChild(s);var u=e.entity_data.data.map(function(e){return e.name}).join(", ");s.innerHTML=u;var c=document.createElement("div");c.className="pr-fb-recs-tooltip-button-column",o.appendChild(c);var f=document.createElement("div");return f.className="amazon-follow",f.setAttribute("data-size","small"),f.setAttribute("data-suggestion-tooltip","hide"),f.setAttribute("data-entity-id",e.entity_id),f.setAttribute("data-type",e.entity_type),f.setAttribute("data-ref",$.ref?Z.formatString("{0}_{1}",y,$.ref):y),c.appendChild(f),o}function j(){$.showTooltip&&!$.seenTooltip&&$.signedIn&&($.seenTooltip=!0,Z.ajax(Z.FOLLOW_SERVICE_URL+"viewed-tooltip",{requestType:"POST",data:{authenticity_token:$.csrf,category:$.type,entity_id:$.entityId},logger:tt.child("viewed_tooltip")}))}function k(e){if("PROFILE_REQUIRED"===e)return void Y.show();var t=v.error[e]||v.error.UNKNOWN;X.findFirstByClass("pr-fb-error-text").innerHTML=t,X.show()}function D(){var e=Z.FOLLOW_SERVICE_URL,t={authenticity_token:$.csrf,entity_id:$.entityId,category:$.type,ref:$.ref||""};j(),q(!0,e,t)}function B(){var e=Z.FOLLOW_SERVICE_URL+$.followId,t={_method:"delete",authenticity_token:$.csrf,ref:$.ref||""};q(!1,e,t)}function q(e,t,o){var n="pr-fb-pending";if(!Z.hasClass(P,n)){Z.addClass(P,n);var r=e?"add":"remove";Z.ajax(t,{requestType:"POST",data:o,successCallback:function(){Q.trigger($.followId,r+"FollowCompleted",$),e&&$.showSuggestionTooltip?(amznFollow.hideAllTooltipsForAllButtons(),$.useRecsService?(Q.on($.followId,"recommendationsLoaded",!0,function(){W.show()}),U()):W.show()):amznFollow.hideAllTooltips($.followId)},failureCallback:function(t){H(!e),k(t.responseText)},completeCallback:function(){Z.removeClass(P,n)},logger:tt.child(r)}),H(e),Q.trigger($.followId,r+"Follow",$)}}function H(e){Z.removeClass(P,e?"pr-fb-not-following":"pr-fb-following"),Z.addClass(P,e?"pr-fb-following":"pr-fb-not-following"),G.innerHTML=e?v.following:v.follow,$.isFollowing=e}a=a||amznFollow.metrics.noop;var P,V,J,G,K,W,X,Y,Z=amznFollow.utils,Q=amznFollow.events,$=Z.merge({},w),et=new Date,tt=amznFollow.metrics.noop,ot=!1;return this.element=e,this.id=function(){return $.followId},this.isFollowing=function(){return $.isFollowing},this.introTooltip=function(){return K},this.showTooltip=function(e){K.show(e)},this.hideTooltip=function(e){K.hide(e)},this.initialized=function(){return ot},this.click=O,m(l),this}var t="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button-7170b20636e5d9b1816b9b2dd512f867.html",o="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button-72c29c1ea740870bf49e6515fbcbbdaf.css",n='<link rel="stylesheet" media="screen" href="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button-72c29c1ea740870bf49e6515fbcbbdaf.css" />',r="https://d39x00gckxu2jb.cloudfront.net/follow/assets/button_strings-7b7c7243ae87bb3b3fd603cacae9ea04.json",a=amznFollow.utils.AMAZON_URL+"/gp/profile/author_suggestions",i="follow-button-add",l={recommenders:["similarities"],entity_types:["{0}"],results_limit:1,per_result_recommendations_limit:3,facet:"low"},s=amznFollow.utils.FOLLOW_SERVICE_URL+"v2/recommendations/{0}/{1}"+amznFollow.utils.Uri.paramsToString(l),u="{0}_{1}",c=0,f=2,d=31,p=["size","language","asin","entity-id","category","type","tooltip","tooltip-position","onload","onadd","onaddcompleted","onremove","onremovecompleted","oncountloaded","ref","color","suggestion-tooltip","suggestion-tooltip-text","suggestion-tooltip-url","fade-duration","initialize"],m="amazon-follow-initialized",g=["bottom","left"],w={size:"base",language:"en_US",tooltipPosition:g.join(" "),onload:null,onadd:null,onaddcompleted:null,onremove:null,onremovecompleted:null,oncountloaded:null,suggestionTooltip:"show",suggestionTooltipText:null,suggestionTooltipUrl:a,fadeDuration:amznFollow.utils.DEFAULT_FADE_DURATION,initialize:!0},h="fb_tt",y="fb_recs_tt",b={recsTooltip:"FOLLOW_RECOMMENDATIONS_TOOLTIP_80889"},v={},T="follow_button",_={ATVPDKIKX0DER:201813230,A1F83G8C2ARO7P:202042520,A1PA6795UKMFR9:202060640,A21TJRUUN4KGV:202060600,A13V1IB3VIYZZH:202060860,A1VC38T7YXB528:201996080},F={ref:"fb_lrn"},E=amznFollow.utils.AMAZON_URL+"/gp/help/customer/display.html",C=[],A=document.createElement("img");A.src="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow-button-sprite-5e10062fbc81c283d9dd49713decb8bc.png",A.style.position="absolute",A.style.width="1px",A.style.height="1px",A.style.top="-1000px",A.style.left="-1000px",amznFollow.initialize=function(t){document.body.appendChild(A);for(var o=amznFollow.utils.getElementsByClassNames(["amazon-favorite","amazon-follow"],{tagName:"div"}),n=new amznFollow.metrics.MetricsLogDispatcher({enabled:!1}),r=new amznFollow.metrics.MetricsLogger(n),a=0;a<o.length;a++)if(!amznFollow.utils.hasClass(o[a],m)){var i=new e(o[a],r,t);C.push(i),i.initialized()&&amznFollow.utils.addClass(o[a],m)}},amznFollow.all=function(){return C},amznFollow.find=function(e,t){for(var o=0;o<C.length;o++)if(C[o].id()==amznFollow.utils.formatString(u,t,e))return C[o];return null};var I=amznFollow.utils.queryStringValue(i);return amznFollow.utils.documentReady("amznFollow.initialize",window,!0),amznFollow.FavoriteButton=e,amznFollow.FollowButton=e,amznFollow}();var afav=amznFollow;"object"!=typeof JSON&&(JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var o,n,r,a,i,l=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,i=[],"[object Array]"===Object.prototype.toString.apply(s)){for(a=s.length,o=0;a>o;o+=1)i[o]=str(o,s)||"null";return r=0===i.length?"[]":gap?"[\n"+gap+i.join(",\n"+gap)+"\n"+l+"]":"["+i.join(",")+"]",gap=l,r}if(rep&&"object"==typeof rep)for(a=rep.length,o=0;a>o;o+=1)"string"==typeof rep[o]&&(n=rep[o],r=str(n,s),r&&i.push(quote(n)+(gap?": ":":")+r));else for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r=str(n,s),r&&i.push(quote(n)+(gap?": ":":")+r));return r=0===i.length?"{}":gap?"{\n"+gap+i.join(",\n"+gap)+"\n"+l+"}":"{"+i.join(",")+"}",gap=l,r}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,o){var n;if(gap="",indent="","number"==typeof o)for(n=0;o>n;n+=1)indent+=" ";else"string"==typeof o&&(indent=o);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,t){var o,n,r=e[t];if(r&&"object"==typeof r)for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n=walk(r,o),void 0!==n?r[o]=n:delete r[o]);return reviver.call(e,t,r)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();